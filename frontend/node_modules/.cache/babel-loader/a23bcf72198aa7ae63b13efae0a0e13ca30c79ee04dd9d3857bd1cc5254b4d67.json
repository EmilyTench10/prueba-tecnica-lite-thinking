{"ast":null,"code":"import { BASE_API_URL } from '../utils/constants';\nimport { getToken } from './token';\nconst getHeaders = () => {\n  const token = getToken();\n  return {\n    'Content-Type': 'application/json',\n    ...(token && {\n      'Authorization': `Bearer ${token}`\n    })\n  };\n};\nexport async function getEmpresasApi() {\n  const response = await fetch(`${BASE_API_URL}empresas/`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) throw new Error('Error al obtener empresas');\n  return response.json();\n}\nexport async function getEmpresaApi(nit) {\n  const response = await fetch(`${BASE_API_URL}empresas/${nit}/`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) throw new Error('Error al obtener empresa');\n  return response.json();\n}\nexport async function createEmpresaApi(data) {\n  const response = await fetch(`${BASE_API_URL}empresas/`, {\n    method: 'POST',\n    headers: getHeaders(),\n    body: JSON.stringify(data)\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Error al crear empresa');\n  }\n  return response.json();\n}\nexport async function updateEmpresaApi(nit, data) {\n  const response = await fetch(`${BASE_API_URL}empresas/${nit}/`, {\n    method: 'PUT',\n    headers: getHeaders(),\n    body: JSON.stringify(data)\n  });\n  if (!response.ok) throw new Error('Error al actualizar empresa');\n  return response.json();\n}\nexport async function deleteEmpresaApi(nit) {\n  const response = await fetch(`${BASE_API_URL}empresas/${nit}/`, {\n    method: 'DELETE',\n    headers: getHeaders()\n  });\n  if (!response.ok) throw new Error('Error al eliminar empresa');\n  return true;\n}","map":{"version":3,"names":["BASE_API_URL","getToken","getHeaders","token","getEmpresasApi","response","fetch","headers","ok","Error","json","getEmpresaApi","nit","createEmpresaApi","data","method","body","JSON","stringify","error","detail","updateEmpresaApi","deleteEmpresaApi"],"sources":["C:/Users/Emily/Desktop/prueba-tecnica/frontend/src/api/empresas.js"],"sourcesContent":["import { BASE_API_URL } from '../utils/constants';\nimport { getToken } from './token';\n\nconst getHeaders = () => {\n  const token = getToken();\n  return {\n    'Content-Type': 'application/json',\n    ...(token && { 'Authorization': `Bearer ${token}` }),\n  };\n};\n\nexport async function getEmpresasApi() {\n  const response = await fetch(`${BASE_API_URL}empresas/`, {\n    headers: getHeaders(),\n  });\n\n  if (!response.ok) throw new Error('Error al obtener empresas');\n  return response.json();\n}\n\nexport async function getEmpresaApi(nit) {\n  const response = await fetch(`${BASE_API_URL}empresas/${nit}/`, {\n    headers: getHeaders(),\n  });\n\n  if (!response.ok) throw new Error('Error al obtener empresa');\n  return response.json();\n}\n\nexport async function createEmpresaApi(data) {\n  const response = await fetch(`${BASE_API_URL}empresas/`, {\n    method: 'POST',\n    headers: getHeaders(),\n    body: JSON.stringify(data),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Error al crear empresa');\n  }\n  return response.json();\n}\n\nexport async function updateEmpresaApi(nit, data) {\n  const response = await fetch(`${BASE_API_URL}empresas/${nit}/`, {\n    method: 'PUT',\n    headers: getHeaders(),\n    body: JSON.stringify(data),\n  });\n\n  if (!response.ok) throw new Error('Error al actualizar empresa');\n  return response.json();\n}\n\nexport async function deleteEmpresaApi(nit) {\n  const response = await fetch(`${BASE_API_URL}empresas/${nit}/`, {\n    method: 'DELETE',\n    headers: getHeaders(),\n  });\n\n  if (!response.ok) throw new Error('Error al eliminar empresa');\n  return true;\n}\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,oBAAoB;AACjD,SAASC,QAAQ,QAAQ,SAAS;AAElC,MAAMC,UAAU,GAAGA,CAAA,KAAM;EACvB,MAAMC,KAAK,GAAGF,QAAQ,CAAC,CAAC;EACxB,OAAO;IACL,cAAc,EAAE,kBAAkB;IAClC,IAAIE,KAAK,IAAI;MAAE,eAAe,EAAE,UAAUA,KAAK;IAAG,CAAC;EACrD,CAAC;AACH,CAAC;AAED,OAAO,eAAeC,cAAcA,CAAA,EAAG;EACrC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGN,YAAY,WAAW,EAAE;IACvDO,OAAO,EAAEL,UAAU,CAAC;EACtB,CAAC,CAAC;EAEF,IAAI,CAACG,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;EAC9D,OAAOJ,QAAQ,CAACK,IAAI,CAAC,CAAC;AACxB;AAEA,OAAO,eAAeC,aAAaA,CAACC,GAAG,EAAE;EACvC,MAAMP,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGN,YAAY,YAAYY,GAAG,GAAG,EAAE;IAC9DL,OAAO,EAAEL,UAAU,CAAC;EACtB,CAAC,CAAC;EAEF,IAAI,CAACG,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;EAC7D,OAAOJ,QAAQ,CAACK,IAAI,CAAC,CAAC;AACxB;AAEA,OAAO,eAAeG,gBAAgBA,CAACC,IAAI,EAAE;EAC3C,MAAMT,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGN,YAAY,WAAW,EAAE;IACvDe,MAAM,EAAE,MAAM;IACdR,OAAO,EAAEL,UAAU,CAAC,CAAC;IACrBc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI;EAC3B,CAAC,CAAC;EAEF,IAAI,CAACT,QAAQ,CAACG,EAAE,EAAE;IAChB,MAAMW,KAAK,GAAG,MAAMd,QAAQ,CAACK,IAAI,CAAC,CAAC;IACnC,MAAM,IAAID,KAAK,CAACU,KAAK,CAACC,MAAM,IAAI,wBAAwB,CAAC;EAC3D;EACA,OAAOf,QAAQ,CAACK,IAAI,CAAC,CAAC;AACxB;AAEA,OAAO,eAAeW,gBAAgBA,CAACT,GAAG,EAAEE,IAAI,EAAE;EAChD,MAAMT,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGN,YAAY,YAAYY,GAAG,GAAG,EAAE;IAC9DG,MAAM,EAAE,KAAK;IACbR,OAAO,EAAEL,UAAU,CAAC,CAAC;IACrBc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI;EAC3B,CAAC,CAAC;EAEF,IAAI,CAACT,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;EAChE,OAAOJ,QAAQ,CAACK,IAAI,CAAC,CAAC;AACxB;AAEA,OAAO,eAAeY,gBAAgBA,CAACV,GAAG,EAAE;EAC1C,MAAMP,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGN,YAAY,YAAYY,GAAG,GAAG,EAAE;IAC9DG,MAAM,EAAE,QAAQ;IAChBR,OAAO,EAAEL,UAAU,CAAC;EACtB,CAAC,CAAC;EAEF,IAAI,CAACG,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;EAC9D,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}