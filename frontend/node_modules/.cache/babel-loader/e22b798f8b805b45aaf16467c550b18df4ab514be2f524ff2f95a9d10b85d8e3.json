{"ast":null,"code":"import { BASE_API_URL } from '../utils/constants';\nimport { getToken } from './token';\nconst getHeaders = () => {\n  const token = getToken();\n  return {\n    'Content-Type': 'application/json',\n    ...(token && {\n      'Authorization': `Bearer ${token}`\n    })\n  };\n};\nexport async function sendMessageApi(message, sessionId = null) {\n  const response = await fetch(`${BASE_API_URL}chatbot/`, {\n    method: 'POST',\n    headers: getHeaders(),\n    body: JSON.stringify({\n      message,\n      session_id: sessionId\n    })\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Error al enviar mensaje');\n  }\n  return response.json();\n}\nexport async function getChatHistorialApi(sessionId) {\n  const response = await fetch(`${BASE_API_URL}chatbot/historial/${sessionId}/`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) throw new Error('Error al obtener historial');\n  return response.json();\n}","map":{"version":3,"names":["BASE_API_URL","getToken","getHeaders","token","sendMessageApi","message","sessionId","response","fetch","method","headers","body","JSON","stringify","session_id","ok","error","json","Error","detail","getChatHistorialApi"],"sources":["C:/Users/Emily/Desktop/prueba-tecnica/frontend/src/api/chatbot.js"],"sourcesContent":["import { BASE_API_URL } from '../utils/constants';\nimport { getToken } from './token';\n\nconst getHeaders = () => {\n  const token = getToken();\n  return {\n    'Content-Type': 'application/json',\n    ...(token && { 'Authorization': `Bearer ${token}` }),\n  };\n};\n\nexport async function sendMessageApi(message, sessionId = null) {\n  const response = await fetch(`${BASE_API_URL}chatbot/`, {\n    method: 'POST',\n    headers: getHeaders(),\n    body: JSON.stringify({ message, session_id: sessionId }),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Error al enviar mensaje');\n  }\n  return response.json();\n}\n\nexport async function getChatHistorialApi(sessionId) {\n  const response = await fetch(`${BASE_API_URL}chatbot/historial/${sessionId}/`, {\n    headers: getHeaders(),\n  });\n\n  if (!response.ok) throw new Error('Error al obtener historial');\n  return response.json();\n}\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,oBAAoB;AACjD,SAASC,QAAQ,QAAQ,SAAS;AAElC,MAAMC,UAAU,GAAGA,CAAA,KAAM;EACvB,MAAMC,KAAK,GAAGF,QAAQ,CAAC,CAAC;EACxB,OAAO;IACL,cAAc,EAAE,kBAAkB;IAClC,IAAIE,KAAK,IAAI;MAAE,eAAe,EAAE,UAAUA,KAAK;IAAG,CAAC;EACrD,CAAC;AACH,CAAC;AAED,OAAO,eAAeC,cAAcA,CAACC,OAAO,EAAEC,SAAS,GAAG,IAAI,EAAE;EAC9D,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,YAAY,UAAU,EAAE;IACtDS,MAAM,EAAE,MAAM;IACdC,OAAO,EAAER,UAAU,CAAC,CAAC;IACrBS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAER,OAAO;MAAES,UAAU,EAAER;IAAU,CAAC;EACzD,CAAC,CAAC;EAEF,IAAI,CAACC,QAAQ,CAACQ,EAAE,EAAE;IAChB,MAAMC,KAAK,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IACnC,MAAM,IAAIC,KAAK,CAACF,KAAK,CAACG,MAAM,IAAI,yBAAyB,CAAC;EAC5D;EACA,OAAOZ,QAAQ,CAACU,IAAI,CAAC,CAAC;AACxB;AAEA,OAAO,eAAeG,mBAAmBA,CAACd,SAAS,EAAE;EACnD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,YAAY,qBAAqBM,SAAS,GAAG,EAAE;IAC7EI,OAAO,EAAER,UAAU,CAAC;EACtB,CAAC,CAAC;EAEF,IAAI,CAACK,QAAQ,CAACQ,EAAE,EAAE,MAAM,IAAIG,KAAK,CAAC,4BAA4B,CAAC;EAC/D,OAAOX,QAAQ,CAACU,IAAI,CAAC,CAAC;AACxB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}