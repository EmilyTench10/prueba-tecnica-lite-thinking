{"ast":null,"code":"import { BASE_API_URL } from '../utils/constants';\nimport { getToken } from './token';\nconst getHeaders = () => {\n  const token = getToken();\n  return {\n    'Content-Type': 'application/json',\n    ...(token && {\n      'Authorization': `Bearer ${token}`\n    })\n  };\n};\nexport async function getProductosApi() {\n  const response = await fetch(`${BASE_API_URL}productos/`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) throw new Error('Error al obtener productos');\n  return response.json();\n}\nexport async function getProductoApi(id) {\n  const response = await fetch(`${BASE_API_URL}productos/${id}/`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) throw new Error('Error al obtener producto');\n  return response.json();\n}\nexport async function getProductosPorEmpresaApi(nit) {\n  const response = await fetch(`${BASE_API_URL}productos/por_empresa/?nit=${nit}`, {\n    headers: getHeaders()\n  });\n  if (!response.ok) throw new Error('Error al obtener productos');\n  return response.json();\n}\nexport async function createProductoApi(data) {\n  const response = await fetch(`${BASE_API_URL}productos/`, {\n    method: 'POST',\n    headers: getHeaders(),\n    body: JSON.stringify(data)\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Error al crear producto');\n  }\n  return response.json();\n}\nexport async function updateProductoApi(id, data) {\n  const response = await fetch(`${BASE_API_URL}productos/${id}/`, {\n    method: 'PUT',\n    headers: getHeaders(),\n    body: JSON.stringify(data)\n  });\n  if (!response.ok) throw new Error('Error al actualizar producto');\n  return response.json();\n}\nexport async function deleteProductoApi(id) {\n  const response = await fetch(`${BASE_API_URL}productos/${id}/`, {\n    method: 'DELETE',\n    headers: getHeaders()\n  });\n  if (!response.ok) throw new Error('Error al eliminar producto');\n  return true;\n}","map":{"version":3,"names":["BASE_API_URL","getToken","getHeaders","token","getProductosApi","response","fetch","headers","ok","Error","json","getProductoApi","id","getProductosPorEmpresaApi","nit","createProductoApi","data","method","body","JSON","stringify","error","detail","updateProductoApi","deleteProductoApi"],"sources":["C:/Users/Emily/Desktop/prueba-tecnica/frontend/src/api/productos.js"],"sourcesContent":["import { BASE_API_URL } from '../utils/constants';\nimport { getToken } from './token';\n\nconst getHeaders = () => {\n  const token = getToken();\n  return {\n    'Content-Type': 'application/json',\n    ...(token && { 'Authorization': `Bearer ${token}` }),\n  };\n};\n\nexport async function getProductosApi() {\n  const response = await fetch(`${BASE_API_URL}productos/`, {\n    headers: getHeaders(),\n  });\n\n  if (!response.ok) throw new Error('Error al obtener productos');\n  return response.json();\n}\n\nexport async function getProductoApi(id) {\n  const response = await fetch(`${BASE_API_URL}productos/${id}/`, {\n    headers: getHeaders(),\n  });\n\n  if (!response.ok) throw new Error('Error al obtener producto');\n  return response.json();\n}\n\nexport async function getProductosPorEmpresaApi(nit) {\n  const response = await fetch(`${BASE_API_URL}productos/por_empresa/?nit=${nit}`, {\n    headers: getHeaders(),\n  });\n\n  if (!response.ok) throw new Error('Error al obtener productos');\n  return response.json();\n}\n\nexport async function createProductoApi(data) {\n  const response = await fetch(`${BASE_API_URL}productos/`, {\n    method: 'POST',\n    headers: getHeaders(),\n    body: JSON.stringify(data),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Error al crear producto');\n  }\n  return response.json();\n}\n\nexport async function updateProductoApi(id, data) {\n  const response = await fetch(`${BASE_API_URL}productos/${id}/`, {\n    method: 'PUT',\n    headers: getHeaders(),\n    body: JSON.stringify(data),\n  });\n\n  if (!response.ok) throw new Error('Error al actualizar producto');\n  return response.json();\n}\n\nexport async function deleteProductoApi(id) {\n  const response = await fetch(`${BASE_API_URL}productos/${id}/`, {\n    method: 'DELETE',\n    headers: getHeaders(),\n  });\n\n  if (!response.ok) throw new Error('Error al eliminar producto');\n  return true;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}