# =============================================================================
# Railway Configuration
# Sistema de Inventario Lite Thinking
# =============================================================================

[build]
# Usar Dockerfile desde la raíz del proyecto
dockerfilePath = "backend/Dockerfile"

[deploy]
# Puerto de la aplicación
port = 8000

# Comando de inicio - con creación de superusuario
startCommand = "sh -c 'python manage.py collectstatic --noinput && python manage.py migrate && python create_superuser.py && python manage.py runserver 0.0.0.0:$PORT'"

# Deshabilitado temporalmente para debug
# healthcheckPath = "/swagger/"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
